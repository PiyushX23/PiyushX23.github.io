<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Extracting Zotero's notes | Sebastian Daza</title> <meta name="author" content="Sebastian Daza"/> <meta name="description" content="How to extract zotero notes to CSV / Excel file"/> <meta name="keywords" content="sebastian, daza, data science, demography, simulation, sociology"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"/> <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ¯</text></svg>"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://sdaza.com/blog/2021/zotero-notes/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">SebastianÂ </span>Daza</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">academia</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/teaching/">teaching</a> </div> </li> <li class="nav-item "> <a class="nav-link" href="/repos/">repos</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Extracting Zotero's notes</h1> <p class="post-meta">July 6, 2021â€¢ Sebastian Daza</p> <p class="post-tags"> <a href="/blog/2021"> <i class="fas fa-calendar fa-sm"></i> 2021 </a> Â  Â· Â  <a href="/blog/tag/zotero"> <i class="fas fa-hashtag fa-sm"></i> zotero</a> Â  </p> </header> <article class="post-content"> <p>When reviewing the literature, itâ€™s nice to have the notes linked to Zotero references. It would also be great to compare them systematically. The idea would be to have your notes in Zotero so that everyone in the group can access and edit them and create a data file to explore your notes using, for instance, text analysis techniques.</p> <p>This small package extracts notes from a collection and creates a CSV file that can be easily read using Excel. You only need to specify the collection ID. For instance, if the location of my collection is <code class="language-plaintext highlighter-rouge">https://www.zotero.org/groups/2406179/csic-echo/collections/M8N2VMAP</code>, the collection ID would be <code class="language-plaintext highlighter-rouge">M8N2VMAP</code>. We also need the Zotero APIâ€™s credentials.</p> <p>To create a clean CSV, notesâ€™ headers would need a suitable separator. The default is <code class="language-plaintext highlighter-rouge">#</code>. In this case, the text between headings mustnâ€™t include <code class="language-plaintext highlighter-rouge">#</code>. Below an example:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Research question

Estimates interaction effects between PGS of obesity and cohorts using HRS.

# Data

HRS

# Methods

Uses a HLM whereby they estimate effects of age and cohorts while making the
intercepts and slopes a function of individual factors.
</code></pre></div></div> <h2 id="installation">Installation</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install git+https://github.com/sdaza/zotnote.git
</code></pre></div></div> <h2 id="credentials">Credentials</h2> <p>You can save your Zotero API credentials in a <code class="language-plaintext highlighter-rouge">config.py</code> and load them using <code class="language-plaintext highlighter-rouge">import config</code>:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">library_id = "0000000"</span>
<span class="s">api_key = "key"</span>
<span class="s">library_type = "group"</span>
</code></pre></div></div> <h2 id="example">Example</h2> <p>Letâ€™s try to extract some notes and read them using Pandas:</p> <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">config</span>
<span class="kn">import</span> <span class="nn">zotnote</span> <span class="k">as</span> <span class="n">zn</span></code></pre></figure> <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">zn</span><span class="p">.</span><span class="n">exportNotes</span><span class="p">(</span><span class="n">collection</span> <span class="o">=</span> <span class="s">"M8N2VMAP"</span><span class="p">,</span> 
    <span class="n">library_id</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">library_id</span><span class="p">,</span> <span class="n">api_key</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">api_key</span><span class="p">)</span></code></pre></figure> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Notes saved in zotero-notes.csv
</code></pre></div></div> <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"zotero-notes.csv"</span><span class="p">)</span></code></pre></figure> <div> <style scoped="">.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style> <table border="1" class="dataframe"> <thead> <tr style="text-align: right;"> <th></th> <th>id</th> <th>citation</th> <th>tags</th> <th>title</th> <th>reviewer</th> <th>research_question</th> <th>model</th> <th>data</th> <th>methods</th> <th>conclusions</th> <th>the_good</th> <th>limitations</th> <th>results</th> <th>context</th> <th>next</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>4ESWAPZY</td> <td>van Dijk et al. 2015</td> <td>NaN</td> <td>Recent developments on the role of epigenetics...</td> <td>Elena</td> <td>Knowledge about epigenetic marks related to ob...</td> <td>Human and animal</td> <td>Review</td> <td>NaN</td> <td>NaN</td> <td>Good summary tables of studies carried out in ...</td> <td>So far, a causal role of epigenetics in the de...</td> <td>NaN</td> <td>NaN</td> <td>NaN</td> </tr> <tr> <th>1</th> <td>5JNF33U8</td> <td>Fernandez-Twinn et al. 2019</td> <td>intrauterine effects, epigenetics</td> <td>Intrauterine programming of obesity and type 2...</td> <td>Elena</td> <td>Which are the relevant exposures related to th...</td> <td>Human and also murine models</td> <td>NaN</td> <td>NaN</td> <td>-Â Â Â Â Â Â Â Â Â  The main exposures involved: fetal ...</td> <td>NaN</td> <td>limited evidence forÂ  a causal role for epigen...</td> <td>NaN</td> <td>NaN</td> <td>NaN</td> </tr> <tr> <th>2</th> <td>S8FZS32L</td> <td>Ling 2019</td> <td>Elena</td> <td>Epigenetics in Human Obesity and Type 2 Diabetes</td> <td>Elena</td> <td>Summarizes epigenetic signatures from human ti...</td> <td>NaN</td> <td>Human</td> <td>Different large-scale methylation studies usin...</td> <td>NaN</td> <td>Also covers diet (methyl donnors) and epigenet...</td> <td>In epigenetic studies itâ€™s important to unders...</td> <td>1) Evidence for DNA methylation sites that con...</td> <td>NaN</td> <td>NaN</td> </tr> <tr> <th>3</th> <td>QY3Y7V6X</td> <td>Sharp et al. 2017</td> <td>Must read</td> <td>Maternal BMI at the start of pregnancy and off...</td> <td>Elena</td> <td>Is maternal bmi related with changes in the of...</td> <td>NaN</td> <td>meta-analysis across 19 cohorts using 450k ill...</td> <td>2 models: primary anÃ¡lisis used continous bmi ...</td> <td>They found evicence for a causal intrauterine ...</td> <td>Large sample size n=7523. Strong confounder co...</td> <td>Effects sizes were very small, les tan a 0.15%...</td> <td>NaN</td> <td>NaN</td> <td>NaN</td> </tr> <tr> <th>4</th> <td>5AMCHQMB</td> <td>Sulc et al. 2020</td> <td>NaN</td> <td>Quantification of the overall contribution of ...</td> <td>Sebastian</td> <td>Can we use a method to estimate GxE without me...</td> <td>NaN</td> <td>Simulation and application to complex traits f...</td> <td>Detect GxE based on the variance heterogeneity...</td> <td>NaN</td> <td>Interesting approach to GxE and GxG. The metho...</td> <td>The interaction effect estimates may depend to...</td> <td>Simulation results seem to show the method is ...</td> <td>GxE are challenging, E is not measured accurat...</td> <td>What would be the implications of these result...</td> </tr> <tr> <th>5</th> <td>U4MNK7QT</td> <td>Walter et al. 2016</td> <td>Genomics, HRS, GxE, BMI</td> <td>Association of a Genetic Risk Score With Body ...</td> <td>Sebastian</td> <td>Estimates interaction effects between PGS of o...</td> <td>NaN</td> <td>HRS</td> <td>Uses a HLM whereby they estimate effects of ag...</td> <td>NaN</td> <td>NaN</td> <td>Pays little attention to selection due to surv...</td> <td>NaN</td> <td>NaN</td> <td>Anything</td> </tr> <tr> <th>6</th> <td>RGDC9R9R</td> <td>Abadi et al. 2017</td> <td>Genomics, GxG, GxE, BMI</td> <td>Penetrance of Polygenic Obesity Susceptibility...</td> <td>Sebastian</td> <td>Are the effects of obesity-susceptibility loci...</td> <td>NaN</td> <td>Several studies, including the Framingham coho...</td> <td>Conditional quantile regression (CQR) to inves...</td> <td>NaN</td> <td>Interesting approach to GxE and GxG.</td> <td>European ancestry, how these results hold in d...</td> <td>Significant positive associations (adjusting f...</td> <td>The role of the individual and compound gene-e...</td> <td>What would be the implications of these result...</td> </tr> </tbody> </table> </div> </article><div id="disqus_thread"></div> <script type="text/javascript">var disqus_shortname="sdaza",disqus_identifier="/blog/2021/zotero-notes",disqus_title="Extracting Zotero's notes";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" target="_blank" rel="noopener noreferrer">comments powered by Disqus.</a> </noscript> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> Â© Copyright 2023 Sebastian Daza. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. Last updated: January 09, 2023. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34554402-2"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-34554402-2");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>